"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Box=function(){function e(t,n,o,s){_classCallCheck(this,e),this.red=t,this.green=n,this.blue=o,this.element=document.createElement("div"),this.element.className="box four columns",this.element.style.background="rgb("+this.red+", "+this.green+", "+this.blue+")",s?this.element.addEventListener("click",Game.win):this.element.addEventListener("click",Game.lose)}return _createClass(e,[{key:"renderTo",value:function(e){e.appendChild(this.element)}}],[{key:"createRandom",value:function(){return new e(Game.createRandomColour(),Game.createRandomColour(),Game.createRandomColour(),!1)}}]),e}(),Game=function(){function e(){_classCallCheck(this,e),this.elements={title:document.getElementById("title"),boxContainer:document.getElementById("box-container"),message:document.getElementById("message"),resetBtn:document.getElementById("reset-btn"),score:document.getElementById("score")},this.boxes=[],this.score=0}return _createClass(e,[{key:"run",value:function(){this.reset(),this.red=e.createRandomColour(),this.green=e.createRandomColour(),this.blue=e.createRandomColour(),this.elements.score.textContent="Score: "+this.score,this.setTitle(),this.createBoxes(),this.renderBoxes()}},{key:"reset",value:function(){for(;this.elements.boxContainer.firstChild;)this.elements.boxContainer.removeChild(this.elements.boxContainer.firstChild);this.elements.message.textContent=""}},{key:"setTitle",value:function(){this.elements.title.textContent="Red: "+this.red+", Green: "+this.green+", Blue: "+this.blue}},{key:"createBoxes",value:function(){this.boxes=[Box.createRandom(),Box.createRandom(),new Box(this.red,this.green,this.blue,!0)],this.boxes.sort(function(){return.5-Math.random()})}},{key:"renderBoxes",value:function(){var e=this;this.boxes.forEach(function(t){t.renderTo(e.elements.boxContainer)})}}],[{key:"createRandomColour",value:function(){return Math.floor(255*Math.random()+1)}},{key:"lose",value:function(){game.score-=1,game.elements.message.textContent="Incorrect!",game.elements.message.style.color="red",game.elements.score.textContent="Score: "+game.score,setTimeout(function(){game.run()},600)}},{key:"win",value:function(){game.score+=1,game.elements.message.textContent="Correct!",game.elements.message.style.color="green",game.elements.score.textContent="Score: "+game.score,setTimeout(function(){game.run()},600)}}]),e}(),game=new Game;game.run(),document.getElementById("reset-btn").addEventListener("click",function(){game.run(),game.score=0,game.elements.message.textContent="",game.elements.score.textContent="Score: 0"});